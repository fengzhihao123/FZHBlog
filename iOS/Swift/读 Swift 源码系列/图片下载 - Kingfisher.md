### å¼‚æ­¥åŠ è½½å›¾ç‰‡

### å†…å­˜å’Œç£ç›˜ç¼“å­˜å›¾ç‰‡

### å›¾ç‰‡ç»˜åˆ¶

### å¦‚ä½•å®ç°æ”¯æŒçš„ç‰¹æ€§
* å¼‚æ­¥ä¸‹è½½ç¼“å­˜å›¾ç‰‡
    - ä¸‹è½½å›¾ç‰‡çš„å‡½æ•°è°ƒç”¨æ ˆï¼šsetImage -> retrieveImage -> loadAndCacheImage -> downloadImage -> resume
    - ä½¿ç”¨ NSLock æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚
* å¯åŠ è½½ç½‘ç»œå’Œæœ¬åœ°çš„å›¾ç‰‡
    - åŠ è½½ç½‘ç»œå›¾ç‰‡ä½¿ç”¨ğŸ‘†çš„æ­¥éª¤ã€‚
    - loadAndCacheImage å‡½æ•°ä¸­ï¼Œcase ä¸º provider ï¼Œåˆ™ä¼šè°ƒç”¨ provideImage è®¾ç½®æœ¬åœ°çš„å›¾ç‰‡å¹¶ç¼“å­˜ã€‚
* æ”¯æŒå†…å­˜å’Œç£ç›˜ç¼“å­˜
    - ç¼“å­˜å›¾ç‰‡çš„å‡½æ•°è°ƒç”¨æ ˆï¼šcacheImage -> store -> storeNoThrow/syncStoreToDisk(é˜Ÿåˆ—å¼‚æ­¥æ‰§è¡Œ)ã€‚
    - å†…å­˜ç¼“å­˜ï¼šMemoryStorageï¼Œåº•å±‚æ•°æ®ç»“æ„ä½¿ç”¨çš„ NSCacheã€‚
    - ç£ç›˜ç¼“å­˜ï¼šDiskStorageï¼Œä½¿ç”¨ FileManager æ–¹å¼ç®¡ç†ã€‚
    - ç§»é™¤ç­–ç•¥ï¼š
    - ä¸ºä»€ä¹ˆå°† MemoryStorageã€DiskStorage å£°æ˜ä¸º enum ï¼Ÿ